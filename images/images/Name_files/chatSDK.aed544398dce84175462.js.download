!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],d=!1,f=-1;function l(){d&&u&&(d=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!d){var e=a(l);d=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||d||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){e.exports=n(17),e.exports.default=e.exports},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(19),t),o(n(20),t)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});(new(n(5).ChatSDK)).init(window.$EP).then((()=>delete window.$EP))},function(e,t,n){"use strict";(function(e){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChatSDK=void 0;const o=n(6),i=r(n(16)),s=r(n(21)),a=r(n(22)),u=r(n(23)),c=r(n(25)),d=r(n(26)),f=r(n(27)),l=r(n(28)),h=r(n(30)),{MAINTENANCE_MODE_FROM:p}=e.env,{MAINTENANCE_MODE_TO:m}=e.env,w=Number(p)<=Date.now()&&Date.now()<Number(m);t.ChatSDK=class{constructor(){this.mode=o.ChatModes.LIGHT,this.initEngagementPlatform=()=>{const e=this.page.isPageAllowed(window.location.href),t=this.page.isPageVerificationDisabled(window.location.href),n=this.iFrame.initialized,r=this.stub.exists();n&&t||(!n||e||t?t||w&&e?this.iFrame.init():this.handleStubInitialization(e,r,n):this.iFrame.removeIframe())},this.registerHandlers=()=>{this.initEngagementPlatform(),window.addEventListener("popstate",this.initEngagementPlatform),document.removeEventListener("DOMContentLoaded",this.registerHandlers)},this.shouldUpdateChatMode=e=>Object.values(o.ChatModes).includes(e)&&this.config.featureFlags.isDarkModeSupported,this.getChatMode=()=>this.mode,this.injectChatSDKToWindow=()=>{const e=new i.default(this.iFrame),t={open:()=>e.open(),close:()=>e.close(),setMode:t=>{this.shouldUpdateChatMode(t)&&(this.mode=t,this.stub.exists()&&this.stub.setMode(t),this.iFrame.initialized&&e.setMode(t))},updateClientInfo:()=>e.updateClientInfo()};window.$EPChat=Object.freeze({chatSDK:t}),this.events.chatSDKReadyEvent()}}handleStubInitialization(e,t,n){!e||t||n?!e&&t&&this.iFrame.removeStub():(this.stub.init(this.getChatMode),this.injectChatSDKToWindow())}async init(e){this.config=e,this.localStorage=new a.default,this.cookie=new s.default(this.config),this.consentCookie=new h.default(this.cookie),this.iFrame=new c.default(this.config,this.cookie,this.consentCookie),this.stub=new l.default(this.config,this.iFrame),this.page=new d.default(this.config,this.cookie),this.onTabChange=new f.default(this.page,this.iFrame),this.events=new u.default(this.config,this.cookie,this.localStorage,this.iFrame,this.injectChatSDKToWindow,this.getChatMode),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this.registerHandlers):this.registerHandlers()}}}).call(this,n(0))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(7),t),o(n(8),t),o(n(9),t),o(n(10),t),o(n(11),t),o(n(12),t),o(n(13),t),o(n(14),t),o(n(15),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatModes=void 0,t.ChatModes={LIGHT:"light",DARK:"dark"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(1)),i=r(n(18)),s=n(2),{OPEN_CHAT_BUTTON:a,CLOSE_CHAT_BUTTON:u,UPDATE_CLIENT_INFO:c,SET_MODE:d}=s.postRobotEvents;t.default=class{constructor(e){this.iFrame=e,this.sendPostRobotMessage=(e,t)=>{try{o.default.send(this.iFrame.iFrameWindow,e,t)}catch(e){i.default.error(e)}}}open(){this.iFrame.initialized?this.sendPostRobotMessage(a):this.iFrame.init()}close(){this.iFrame.initialized&&this.sendPostRobotMessage(u)}setMode(e){this.iFrame.initialized&&this.sendPostRobotMessage(d,{mode:e})}updateClientInfo(){this.iFrame.initialized&&this.sendPostRobotMessage(c)}}},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return{}.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return"[object RegExp]"==={}.toString.call(e)}n.r(t),n.d(t,"Promise",(function(){return k})),n.d(t,"TYPES",(function(){return $e})),n.d(t,"ProxyWindow",(function(){return be})),n.d(t,"setup",(function(){return Ke})),n.d(t,"destroy",(function(){return qe})),n.d(t,"serializeMessage",(function(){return ze})),n.d(t,"deserializeMessage",(function(){return Ge})),n.d(t,"createProxyWindow",(function(){return Ue})),n.d(t,"toProxyWindow",(function(){return Be})),n.d(t,"on",(function(){return De})),n.d(t,"once",(function(){return Fe})),n.d(t,"send",(function(){return He})),n.d(t,"markWindowKnown",(function(){return fe})),n.d(t,"cleanUpWindow",(function(){return Je})),n.d(t,"bridge",(function(){}));var o="Call was rejected by callee.\r\n";function i(e){return void 0===e&&(e=window),"about:"===e.location.protocol}function s(e){if(void 0===e&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}function a(e){if(void 0===e&&(e=window),e&&!s(e))try{return e.opener}catch(e){}}function u(e){try{return!0}catch(e){}return!1}function c(e){void 0===e&&(e=window);var t=e.location;if(!t)throw new Error("Can not read window location");var n=t.protocol;if(!n)throw new Error("Can not read window protocol");if("file:"===n)return"file://";if("about:"===n){var r=s(e);return r&&u()?c(r):"about://"}var o=t.host;if(!o)throw new Error("Can not read window host");return n+"//"+o}function d(e){void 0===e&&(e=window);var t=c(e);return t&&e.mockDomain&&0===e.mockDomain.indexOf("mock:")?e.mockDomain:t}function f(e){if(!function(e){try{if(e===window)return!0}catch(e){}try{var t=Object.getOwnPropertyDescriptor(e,"location");if(t&&!1===t.enumerable)return!1}catch(e){}try{if(i(e)&&u())return!0}catch(e){}try{if(c(e)===c(window))return!0}catch(e){}return!1}(e))return!1;try{if(e===window)return!0;if(i(e)&&u())return!0;if(d(window)===d(e))return!0}catch(e){}return!1}function l(e){if(!f(e))throw new Error("Expected window to be same domain");return e}function h(e,t){if(!e||!t)return!1;var n=s(t);return n?n===e:-1!==function(e){var t=[];try{for(;e.parent!==e;)t.push(e.parent),e=e.parent}catch(e){}return t}(t).indexOf(e)}function p(e){var t,n,r=[];try{t=e.frames}catch(n){t=e}try{n=t.length}catch(e){}if(0===n)return r;if(n){for(var o=0;o<n;o++){var i=void 0;try{i=t[o]}catch(e){continue}r.push(i)}return r}for(var s=0;s<100;s++){var a=void 0;try{a=t[s]}catch(e){return r}if(!a)return r;r.push(a)}return r}var m=[],w=[];function v(e,t){void 0===t&&(t=!0);try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==o}if(t&&f(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var n=function(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}(m,e);if(-1!==n){var r=w[n];if(r&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;if(t&&t.documentElement&&!t.documentElement.contains(e)){for(var n=e;n.parentNode&&n.parentNode!==n;)n=n.parentNode;if(!n.host||!t.documentElement.contains(n.host))return!0}return!1}(r))return!0}return!1}function g(e){return void 0===e&&(e=window),a(e=e||window)||s(e)||void 0}function _(e,t){if("string"==typeof e){if("string"==typeof t)return"*"===e||t===e;if(r(t))return!1;if(Array.isArray(t))return!1}return r(e)?r(t)?e.toString()===t.toString():!Array.isArray(t)&&Boolean(t.match(e)):!!Array.isArray(e)&&(Array.isArray(t)?JSON.stringify(e)===JSON.stringify(t):!r(t)&&e.some((function(e){return _(e,t)})))}function y(e){try{if(e===window)return!0}catch(e){if(e&&e.message===o)return!0}try{if("[object Window]"==={}.toString.call(e))return!0}catch(e){if(e&&e.message===o)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===o)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===o)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===o)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===o)return!0}try{if(e&&"__unlikely_value__"===e.__cross_domain_utils_window_check__)return!1}catch(e){return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch(e){}return!1}function E(e){try{e.close()}catch(e){}}function b(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&"function"==typeof window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&"function"==typeof window.constructor&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var n=t.call(e);if("[object Window]"===n||"[object global]"===n||"[object DOMWindow]"===n)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}var O,S=[],T=[],P=0;function C(){if(!P&&O){var e=O;O=null,e.resolve()}}function I(){P+=1}function A(){P-=1,C()}var k=function(){function e(e){var t=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var n,r,o=!1,i=!1,s=!1;I();try{e((function(e){s?t.resolve(e):(o=!0,n=e)}),(function(e){s?t.reject(e):(i=!0,r=e)}))}catch(e){return A(),void this.reject(e)}A(),s=!0,o?this.resolve(n):i&&this.reject(r)}}var t=e.prototype;return t.resolve=function(e){if(this.resolved||this.rejected)return this;if(b(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},t.reject=function(e){var t=this;if(this.resolved||this.rejected)return this;if(b(e))throw new Error("Can not reject promise with another promise");if(!e){var n=e&&"function"==typeof e.toString?e.toString():{}.toString.call(e);e=new Error("Expected reject to be called with Error, got "+n)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){t.errorHandled||function(e,t){if(-1===S.indexOf(e)){S.push(e),setTimeout((function(){throw e}),1);for(var n=0;n<T.length;n++)T[n](e,t)}}(e,t)}),1),this.dispatch(),this},t.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},t.dispatch=function(){var t=this.resolved,n=this.rejected,r=this.handlers;if(!this.dispatching&&(t||n)){this.dispatching=!0,I();for(var o=function(e,t){return e.then((function(e){t.resolve(e)}),(function(e){t.reject(e)}))},i=0;i<r.length;i++){var s=r[i],a=s.onSuccess,u=s.onError,c=s.promise,d=void 0;if(t)try{d=a?a(this.value):this.value}catch(e){c.reject(e);continue}else if(n){if(!u){c.reject(this.error);continue}try{d=u(this.error)}catch(e){c.reject(e);continue}}if(d instanceof e&&(d.resolved||d.rejected)){var f=d;f.resolved?c.resolve(f.value):c.reject(f.error),f.errorHandled=!0}else b(d)?d instanceof e&&(d.resolved||d.rejected)?d.resolved?c.resolve(d.value):c.reject(d.error):o(d,c):c.resolve(d)}r.length=0,this.dispatching=!1,A()}},t.then=function(t,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:t,onError:n}),this.errorHandled=!0,this.dispatch(),r},t.catch=function(e){return this.then(void 0,e)},t.finally=function(t){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.finally expected a function");return this.then((function(n){return e.try(t).then((function(){return n}))}),(function(n){return e.try(t).then((function(){throw n}))}))},t.timeout=function(e,t){var n=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){n.resolved||n.rejected||n.reject(t||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(r),e}))},t.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},e.resolve=function(t){return t instanceof e?t:b(t)?new e((function(e,n){return t.then(e,n)})):(new e).resolve(t)},e.reject=function(t){return(new e).reject(t)},e.asyncReject=function(t){return(new e).asyncReject(t)},e.all=function(t){var n=new e,r=t.length,o=[].slice();if(!r)return n.resolve(o),n;for(var i=function(e,t,i){return t.then((function(t){o[e]=t,0==(r-=1)&&n.resolve(o)}),(function(e){i.reject(e)}))},s=0;s<t.length;s++){var a=t[s];if(a instanceof e){if(a.resolved){o[s]=a.value,r-=1;continue}}else if(!b(a)){o[s]=a,r-=1;continue}i(s,e.resolve(a),n)}return 0===r&&n.resolve(o),n},e.hash=function(t){var n={},r=[],o=function(e){if(t.hasOwnProperty(e)){var o=t[e];b(o)?r.push(o.then((function(t){n[e]=t}))):n[e]=o}};for(var i in t)o(i);return e.all(r).then((function(){return n}))},e.map=function(t,n){return e.all(t.map(n))},e.onPossiblyUnhandledException=function(e){return function(e){return T.push(e),{cancel:function(){T.splice(T.indexOf(e),1)}}}(e)},e.try=function(t,n,r){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.try expected a function");var o;I();try{o=t.apply(n,r||[])}catch(t){return A(),e.reject(t)}return A(),e.resolve(o)},e.delay=function(t){return new e((function(e){setTimeout(e,t)}))},e.isPromise=function(t){return!!(t&&t instanceof e)||b(t)},e.flush=function(){return t=e,n=O=O||new t,C(),n;var t,n},e}();function M(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(e){}return-1}var W,x=function(){function e(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,t={};return Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var t=e.prototype;return t._cleanupClosedWindows=function(){for(var e=this.weakmap,t=this.keys,n=0;n<t.length;n++){var r=t[n];if(y(r)&&v(r)){if(e)try{e.delete(r)}catch(e){}t.splice(n,1),this.values.splice(n,1),n-=1}}},t.isSafeToReadWrite=function(e){return!y(e)},t.set=function(e,t){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,t)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=this.name,o=e[r];return void(o&&o[0]===e?o[1]=t:Object.defineProperty(e,r,{value:[e,t],writable:!0}))}catch(e){}this._cleanupClosedWindows();var i=this.keys,s=this.values,a=M(i,e);-1===a?(i.push(e),s.push(t)):s[a]=t},t.get=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];return n&&n[0]===e?n[1]:void 0}catch(e){}this._cleanupClosedWindows();var r=M(this.keys,e);if(-1!==r)return this.values[r]},t.delete=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];n&&n[0]===e&&(n[0]=n[1]=void 0)}catch(e){}this._cleanupClosedWindows();var r=this.keys,o=M(r,e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))},t.has=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var n=e[this.name];return!(!n||n[0]!==e)}catch(e){}return this._cleanupClosedWindows(),-1!==M(this.keys,e)},t.getOrSet=function(e,t){if(this.has(e))return this.get(e);var n=t();return this.set(e,n),n},e}();function j(e){return e.name||e.__name__||e.displayName||"anonymous"}function L(e,t){try{delete e.name,e.name=t}catch(e){}return e.__name__=e.displayName=t,e}function R(){var e="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))+"_"+function(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))}))).replace(/[=]/g,"");if("undefined"!=typeof Buffer)return Buffer.from(e,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}function N(e){try{return JSON.stringify([].slice.call(e),(function(e,t){return"function"==typeof t?"memoize["+function(e){if(W=W||new x,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var t=W.get(e);return t||(t=typeof e+":"+R(),W.set(e,t)),t}(t)+"]":t}))}catch(e){throw new Error("Arguments not serializable -- can not be used to memoize")}}function D(){return{}}var F=0,H=0;function z(e,t){void 0===t&&(t={});var n,r,o=t.thisNamespace,i=void 0!==o&&o,s=t.time,a=F;F+=1;var u=function(){for(var t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];var c;a<H&&(n=null,r=null,a=F,F+=1),c=i?(r=r||new x).getOrSet(this,D):n=n||{};var d=N(o),f=c[d];if(f&&s&&Date.now()-f.time<s&&(delete c[d],f=null),f)return f.value;var l=Date.now(),h=e.apply(this,arguments);return c[d]={time:l,value:h},h};return u.reset=function(){n=null,r=null},L(u,(t.name||j(e))+"::memoized")}function G(e){var t={};function n(){for(var n=arguments,r=this,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];var a=N(i);return t.hasOwnProperty(a)||(t[a]=k.try((function(){return e.apply(r,n)})).finally((function(){delete t[a]}))),t[a]}return n.reset=function(){t={}},L(n,j(e)+"::promiseMemoized")}function U(){}function B(e,t){if(void 0===t&&(t=1),t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var n=e&&e.stack,r=e&&e.message;if(n&&r)return-1!==n.indexOf(r)?n:r+"\n"+n;if(n)return n;if(r)return r}return e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}catch(e){return"Error while stringifying error: "+B(e,t+1)}}function K(e){return"string"==typeof e?e:e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}function q(e){return"[object RegExp]"==={}.toString.call(e)}function $(e,t,n){if(e.hasOwnProperty(t))return e[t];var r=n();return e[t]=r,r}function J(){var e=document.body;if(!e)throw new Error("Body element not found");return e}function Y(){return Boolean(document.body)&&"complete"===document.readyState}function V(){return Boolean(document.body)&&"interactive"===document.readyState}z.clear=function(){H=F},z((function(e){if(Object.values)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t})),Error,z((function(){return new k((function(e){if(Y()||V())return e();var t=setInterval((function(){if(Y()||V())return clearInterval(t),e()}),10)}))}));var Q="undefined"!=typeof document?document.currentScript:null,X=z((function(){if(Q)return Q;if(Q=function(){try{var e=function(){try{throw new Error("_")}catch(e){return e.stack||""}}(),t=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),n=t&&t[1];if(!n)return;for(var r=0,o=[].slice.call(document.getElementsByTagName("script")).reverse();r<o.length;r++){var i=o[r];if(i.src&&i.src===n)return i}}catch(e){}}())return Q;throw new Error("Can not determine current script")})),Z=R();function ee(e){void 0===e&&(e=window);var t="__post_robot_10_0_44__";return e!==window?e[t]:e[t]=e[t]||{}}z((function(){var e;try{e=X()}catch(e){return Z}var t=e.getAttribute("data-uid");if(t&&"string"==typeof t)return t;if((t=e.getAttribute("data-uid-auto"))&&"string"==typeof t)return t;if(e.src){var n=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].charCodeAt(0)*n;e[n+1]&&(r+=e[n+1].charCodeAt(0)*(n-1)),t+=String.fromCharCode(97+Math.abs(r)%26)}return t}(JSON.stringify({src:e.src,dataset:e.dataset}));t="uid_"+n.slice(n.length-30)}else t=R();return e.setAttribute("data-uid-auto",t),t}));var te=function(){return{}};function ne(e,t){return void 0===e&&(e="store"),void 0===t&&(t=te),$(ee(),e,(function(){var e=t();return{has:function(t){return e.hasOwnProperty(t)},get:function(t,n){return e.hasOwnProperty(t)?e[t]:n},set:function(t,n){return e[t]=n,n},del:function(t){delete e[t]},getOrSet:function(t,n){return $(e,t,n)},reset:function(){e=t()},keys:function(){return Object.keys(e)}}}))}var re,oe=function(){};function ie(){var e=ee();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new oe,e.WINDOW_WILDCARD}function se(e,t){return void 0===e&&(e="store"),void 0===t&&(t=te),ne("windowStore").getOrSet(e,(function(){var n=new x,r=function(e){return n.getOrSet(e,t)};return{has:function(t){return r(t).hasOwnProperty(e)},get:function(t,n){var o=r(t);return o.hasOwnProperty(e)?o[e]:n},set:function(t,n){return r(t)[e]=n,n},del:function(t){delete r(t)[e]},getOrSet:function(t,n){return $(r(t),e,n)}}}))}function ae(){return ne("instance").getOrSet("instanceID",R)}function ue(e,t){var n=t.domain,r=se("helloPromises"),o=r.get(e);o&&o.resolve({domain:n});var i=k.resolve({domain:n});return r.set(e,i),i}function ce(e,t){return(0,t.send)(e,"postrobot_hello",{instanceID:ae()},{domain:"*",timeout:-1}).then((function(t){var n=t.origin,r=t.data.instanceID;return ue(e,{domain:n}),{win:e,domain:n,instanceID:r}}))}function de(e,t){var n=t.send;return se("windowInstanceIDPromises").getOrSet(e,(function(){return ce(e,{send:n}).then((function(e){return e.instanceID}))}))}function fe(e){se("knownWindows").set(e,!0)}function le(e){return"object"==typeof e&&null!==e&&"string"==typeof e.__type__}function he(e){return void 0===e?"undefined":null===e?"null":Array.isArray(e)?"array":"function"==typeof e?"function":"object"==typeof e?e instanceof Error?"error":"function"==typeof e.then?"promise":"[object RegExp]"==={}.toString.call(e)?"regex":"[object Date]"==={}.toString.call(e)?"date":"object":"string"==typeof e?"string":"number"==typeof e?"number":"boolean"==typeof e?"boolean":void 0}function pe(e,t){return{__type__:e,__val__:t}}var me,we=((re={}).function=function(){},re.error=function(e){return pe("error",{message:e.message,stack:e.stack,code:e.code,data:e.data})},re.promise=function(){},re.regex=function(e){return pe("regex",e.source)},re.date=function(e){return pe("date",e.toJSON())},re.array=function(e){return e},re.object=function(e){return e},re.string=function(e){return e},re.number=function(e){return e},re.boolean=function(e){return e},re.null=function(e){return e},re),ve={},ge=((me={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},me.error=function(e){var t=e.stack,n=e.code,r=e.data,o=new Error(e.message);return o.code=n,r&&(o.data=r),o.stack=t+"\n\n"+o.stack,o},me.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},me.regex=function(e){return new RegExp(e)},me.date=function(e){return new Date(e)},me.array=function(e){return e},me.object=function(e){return e},me.string=function(e){return e},me.number=function(e){return e},me.boolean=function(e){return e},me.null=function(e){return e},me),_e={};function ye(){for(var e=ne("idToProxyWindow"),t=0,n=e.keys();t<n.length;t++){var r=n[t];e.get(r).shouldClean()&&e.del(r)}}function Ee(e,t){var n=t.send,r=t.id,o=void 0===r?R():r,i=e.then((function(e){if(f(e))return l(e).name})),s=e.then((function(e){if(v(e))throw new Error("Window is closed, can not determine type");return a(e)?"popup":"iframe"}));i.catch(U),s.catch(U);var u=function(){return e.then((function(e){if(!v(e))return f(e)?l(e).name:i}))};return{id:o,getType:function(){return s},getInstanceID:G((function(){return e.then((function(e){return de(e,{send:n})}))})),close:function(){return e.then(E)},getName:u,focus:function(){return e.then((function(e){e.focus()}))},isClosed:function(){return e.then((function(e){return v(e)}))},setLocation:function(t,n){return void 0===n&&(n={}),e.then((function(e){var r=window.location.protocol+"//"+window.location.host,o=n.method,i=void 0===o?"get":o,s=n.body;if(0===t.indexOf("/"))t=""+r+t;else if(!t.match(/^https?:\/\//)&&0!==t.indexOf(r))throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(t));if("post"===i)return u().then((function(e){if(!e)throw new Error("Can not post to window without target name");!function(e){var t=e.url,n=e.target,r=e.body,o=e.method,i=void 0===o?"post":o,s=document.createElement("form");if(s.setAttribute("target",n),s.setAttribute("method",i),s.setAttribute("action",t),s.style.display="none",r)for(var a=0,u=Object.keys(r);a<u.length;a++){var c,d=u[a],f=document.createElement("input");f.setAttribute("name",d),f.setAttribute("value",null==(c=r[d])?void 0:c.toString()),s.appendChild(f)}J().appendChild(s),s.submit(),J().removeChild(s)}({url:t,target:e,method:i,body:s})}));if("get"!==i)throw new Error("Unsupported method: "+i);if(f(e))try{if(e.location&&"function"==typeof e.location.replace)return void e.location.replace(t)}catch(e){}e.location=t}))},setName:function(t){return e.then((function(e){var n=f(e),r=function(e){if(f(e))return l(e).frameElement;for(var t=0,n=document.querySelectorAll("iframe");t<n.length;t++){var r=n[t];if(r&&r.contentWindow&&r.contentWindow===e)return r}}(e);if(!n)throw new Error("Can not set name for cross-domain window: "+t);l(e).name=t,r&&r.setAttribute("name",t),i=k.resolve(t)}))}}}new k((function(e){if(window.document&&window.document.body)return e(window.document.body);var t=setInterval((function(){if(window.document&&window.document.body)return clearInterval(t),e(window.document.body)}),10)}));var be=function(){function e(e){var t=e.send,n=e.win,r=e.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new k,this.serializedWindow=r||Ee(this.actualWindowPromise,{send:t}),ne("idToProxyWindow").set(this.getID(),this),n&&this.setWindow(n,{send:t})}var t=e.prototype;return t.getID=function(){return this.serializedWindow.id},t.getType=function(){return this.serializedWindow.getType()},t.isPopup=function(){return this.getType().then((function(e){return"popup"===e}))},t.setLocation=function(e,t){var n=this;return this.serializedWindow.setLocation(e,t).then((function(){return n}))},t.getName=function(){return this.serializedWindow.getName()},t.setName=function(e){var t=this;return this.serializedWindow.setName(e).then((function(){return t}))},t.close=function(){var e=this;return this.serializedWindow.close().then((function(){return e}))},t.focus=function(){var e=this,t=this.isPopup(),n=this.getName(),r=k.hash({isPopup:t,name:n}).then((function(e){var t=e.name;e.isPopup&&t&&window.open("",t)})),o=this.serializedWindow.focus();return k.all([r,o]).then((function(){return e}))},t.isClosed=function(){return this.serializedWindow.isClosed()},t.getWindow=function(){return this.actualWindow},t.setWindow=function(e,t){var n=t.send;this.actualWindow=e,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=Ee(this.actualWindowPromise,{send:n,id:this.getID()}),se("winToProxyWindow").set(e,this)},t.awaitWindow=function(){return this.actualWindowPromise},t.matchWindow=function(e,t){var n=this,r=t.send;return k.try((function(){return n.actualWindow?e===n.actualWindow:k.hash({proxyInstanceID:n.getInstanceID(),knownWindowInstanceID:de(e,{send:r})}).then((function(t){var o=t.proxyInstanceID===t.knownWindowInstanceID;return o&&n.setWindow(e,{send:r}),o}))}))},t.unwrap=function(){return this.actualWindow||this},t.getInstanceID=function(){return this.serializedWindow.getInstanceID()},t.shouldClean=function(){return Boolean(this.actualWindow&&v(this.actualWindow))},t.serialize=function(){return this.serializedWindow},e.unwrap=function(t){return e.isProxyWindow(t)?t.unwrap():t},e.serialize=function(t,n){var r=n.send;return ye(),e.toProxyWindow(t,{send:r}).serialize()},e.deserialize=function(t,n){var r=n.send;return ye(),ne("idToProxyWindow").get(t.id)||new e({serializedWindow:t,send:r})},e.isProxyWindow=function(e){return Boolean(e&&!y(e)&&e.isProxyWindow)},e.toProxyWindow=function(t,n){var r=n.send;if(ye(),e.isProxyWindow(t))return t;var o=t;return se("winToProxyWindow").get(o)||new e({win:o,send:r})},e}();function Oe(e,t,n,r,o){var i=se("methodStore"),s=ne("proxyWindowMethods");be.isProxyWindow(r)?s.set(e,{val:t,name:n,domain:o,source:r}):(s.del(e),i.getOrSet(r,(function(){return{}}))[e]={domain:o,name:n,val:t,source:r})}function Se(e,t){var n=se("methodStore"),r=ne("proxyWindowMethods");return n.getOrSet(e,(function(){return{}}))[t]||r.get(t)}function Te(e,t,n,r,o){var i,s,a;s=(i={on:o.on,send:o.send}).on,a=i.send,ne("builtinListeners").getOrSet("functionCalls",(function(){return s("postrobot_method",{domain:"*"},(function(e){var t=e.source,n=e.origin,r=e.data,o=r.id,i=r.name,s=Se(t,o);if(!s)throw new Error("Could not find method '"+i+"' with id: "+r.id+" in "+d(window));var u=s.source,c=s.domain,f=s.val;return k.try((function(){if(!_(c,n))throw new Error("Method '"+r.name+"' domain "+JSON.stringify(q(s.domain)?s.domain.source:s.domain)+" does not match origin "+n+" in "+d(window));if(be.isProxyWindow(u))return u.matchWindow(t,{send:a}).then((function(e){if(!e)throw new Error("Method call '"+r.name+"' failed - proxy window does not match source in "+d(window))}))})).then((function(){return f.apply({source:t,origin:n},r.args)}),(function(e){return k.try((function(){if(f.onError)return f.onError(e)})).then((function(){var t,n;throw e.stack&&(e.stack="Remote call to "+i+"("+(void 0===(t=r.args)&&(t=[]),(n=t,[].slice.call(n)).map((function(e){return"string"==typeof e?"'"+e+"'":void 0===e?"undefined":null===e?"null":"boolean"==typeof e?e.toString():Array.isArray(e)?"[ ... ]":"object"==typeof e?"{ ... }":"function"==typeof e?"() => { ... }":"<"+typeof e+">"})).join(", ")+") failed\n\n")+e.stack),e}))})).then((function(e){return{result:e,id:o,name:i}}))}))}));var u=n.__id__||R();e=be.unwrap(e);var c=n.__name__||n.name||r;return"string"==typeof c&&"function"==typeof c.indexOf&&0===c.indexOf("anonymous::")&&(c=c.replace("anonymous::",r+"::")),be.isProxyWindow(e)?(Oe(u,n,c,e,t),e.awaitWindow().then((function(e){Oe(u,n,c,e,t)}))):Oe(u,n,c,e,t),pe("cross_domain_function",{id:u,name:c})}function Pe(e,t,n,r){var o,i=r.on,s=r.send;return function(e,t){void 0===t&&(t=ve);var n=JSON.stringify(e,(function(e){var n=this[e];if(le(this))return n;var r=he(n);if(!r)return n;var o=t[r]||we[r];return o?o(n,e):n}));return void 0===n?"undefined":n}(n,((o={}).promise=function(n,r){return function(e,t,n,r,o){return pe("cross_domain_zalgo_promise",{then:Te(e,t,(function(e,t){return n.then(e,t)}),r,{on:o.on,send:o.send})})}(e,t,n,r,{on:i,send:s})},o.function=function(n,r){return Te(e,t,n,r,{on:i,send:s})},o.object=function(e){return y(e)||be.isProxyWindow(e)?pe("cross_domain_window",be.serialize(e,{send:s})):e},o))}function Ce(e,t,n,r){var o,i=r.send;return function(e,t){if(void 0===t&&(t=_e),"undefined"!==e)return JSON.parse(e,(function(e,n){if(le(this))return n;var r,o;if(le(n)?(r=n.__type__,o=n.__val__):(r=he(n),o=n),!r)return o;var i=t[r]||ge[r];return i?i(o,e):o}))}(n,((o={}).cross_domain_zalgo_promise=function(e){return function(e,t,n){return new k(n.then)}(0,0,e)},o.cross_domain_function=function(n){return function(e,t,n,r){var o=n.id,i=n.name,s=r.send,a=function(n){function r(){var a=arguments;return be.toProxyWindow(e,{send:s}).awaitWindow().then((function(e){var u=Se(e,o);if(u&&u.val!==r)return u.val.apply({source:window,origin:d()},a);var c=[].slice.call(a);return n.fireAndForget?s(e,"postrobot_method",{id:o,name:i,args:c},{domain:t,fireAndForget:!0}):s(e,"postrobot_method",{id:o,name:i,args:c},{domain:t,fireAndForget:!1}).then((function(e){return e.data.result}))})).catch((function(e){throw e}))}return void 0===n&&(n={}),r.__name__=i,r.__origin__=t,r.__source__=e,r.__id__=o,r.origin=t,r},u=a();return u.fireAndForget=a({fireAndForget:!0}),u}(e,t,n,{send:i})},o.cross_domain_window=function(e){return be.deserialize(e,{send:i})},o))}var Ie={};function Ae(e,t,n,r){var o=r.on,i=r.send;return k.try((function(){var r=se().getOrSet(e,(function(){return{}}));return r.buffer=r.buffer||[],r.buffer.push(n),r.flush=r.flush||k.flush().then((function(){if(v(e))throw new Error("Window is closed");var n,s=Pe(e,t,((n={}).__post_robot_10_0_44__=r.buffer||[],n),{on:o,send:i});delete r.buffer;for(var a=Object.keys(Ie),u=[],c=0;c<a.length;c++){var d=a[c];try{Ie[d](e,s,t)}catch(e){u.push(e)}}if(u.length===a.length)throw new Error("All post-robot messaging strategies failed:\n\n"+u.map((function(e,t){return t+". "+B(e)})).join("\n\n"))})),r.flush.then((function(){delete r.flush}))})).then(U)}function ke(e){return ne("responseListeners").get(e)}function Me(e){ne("responseListeners").del(e)}function We(e){return ne("erroredResponseListeners").has(e)}function xe(e){var t=e.name,n=e.win,r=e.domain,o=se("requestListeners");if("*"===n&&(n=null),"*"===r&&(r=null),!t)throw new Error("Name required to get request listener");for(var i=0,s=[n,ie()];i<s.length;i++){var a=s[i];if(a){var u=o.get(a);if(u){var c=u[t];if(c){if(r&&"string"==typeof r){if(c[r])return c[r];if(c.__domain_regex__)for(var d=0,f=c.__domain_regex__;d<f.length;d++){var l=f[d],h=l.listener;if(_(l.regex,r))return h}}if(c["*"])return c["*"]}}}}}function je(e,t,n,r){var o=r.on,i=r.send,s=xe({name:n.name,win:e,domain:t}),a="postrobot_method"===n.name&&n.data&&"string"==typeof n.data.name?n.data.name+"()":n.name;function u(r,s,u){return k.flush().then((function(){if(!n.fireAndForget&&!v(e))try{return Ae(e,t,{id:R(),origin:d(window),type:"postrobot_message_response",hash:n.hash,name:n.name,ack:r,data:s,error:u},{on:o,send:i})}catch(e){throw new Error("Send response message failed for "+a+" in "+d()+"\n\n"+B(e))}}))}return k.all([k.flush().then((function(){if(!n.fireAndForget&&!v(e))try{return Ae(e,t,{id:R(),origin:d(window),type:"postrobot_message_ack",hash:n.hash,name:n.name},{on:o,send:i})}catch(e){throw new Error("Send ack message failed for "+a+" in "+d()+"\n\n"+B(e))}})),k.try((function(){if(!s)throw new Error("No handler found for post message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!_(s.domain,t))throw new Error("Request origin "+t+" does not match domain "+s.domain.toString());return s.handler({source:e,origin:t,data:n.data})})).then((function(e){return u("success",e)}),(function(e){return u("error",null,e)}))]).then(U).catch((function(e){if(s&&s.handleError)return s.handleError(e);throw e}))}function Le(e,t,n){if(!We(n.hash)){var r=ke(n.hash);if(!r)throw new Error("No handler found for post message ack for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!_(r.domain,t))throw new Error("Ack origin "+t+" does not match domain "+r.domain.toString());if(e!==r.win)throw new Error("Ack source does not match registered window")}catch(e){r.promise.reject(e)}r.ack=!0}}function Re(e,t,n){if(!We(n.hash)){var o,i=ke(n.hash);if(!i)throw new Error("No handler found for post message response for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!_(i.domain,t))throw new Error("Response origin "+t+" does not match domain "+(o=i.domain,Array.isArray(o)?"("+o.join(" | ")+")":r(o)?"RegExp("+o.toString()+")":o.toString()));if(e!==i.win)throw new Error("Response source does not match registered window");Me(n.hash),"error"===n.ack?i.promise.reject(n.error):"success"===n.ack&&i.promise.resolve({source:e,origin:t,data:n.data})}}function Ne(e,t){var n=t.on,r=t.send,o=ne("receivedMessages");try{if(!window||window.closed||!e.source)return}catch(e){return}var i=e.source,s=e.origin,a=function(e,t,n,r){var o,i=r.on,s=r.send;try{o=Ce(t,n,e,{on:i,send:s})}catch(e){return}if(o&&"object"==typeof o&&null!==o){var a=o.__post_robot_10_0_44__;if(Array.isArray(a))return a}}(e.data,i,s,{on:n,send:r});if(a){fe(i);for(var u=0;u<a.length;u++){var c=a[u];if(o.has(c.id))return;if(o.set(c.id,!0),v(i)&&!c.fireAndForget)return;0===c.origin.indexOf("file:")&&(s="file://");try{"postrobot_message_request"===c.type?je(i,s,c,{on:n,send:r}):"postrobot_message_response"===c.type?Re(i,s,c):"postrobot_message_ack"===c.type&&Le(i,s,c)}catch(e){setTimeout((function(){throw e}),0)}}}}function De(e,t,n){if(!e)throw new Error("Expected name");if("function"==typeof(t=t||{})&&(n=t,t={}),!n)throw new Error("Expected handler");(t=t||{}).name=e,t.handler=n||t.handler;var r=t.window,o=t.domain,i=function e(t,n){var r=t.name,o=t.win,i=t.domain,s=se("requestListeners");if(!r||"string"!=typeof r)throw new Error("Name required to add request listener");if(Array.isArray(o)){for(var a=[],u=0,c=o;u<c.length;u++)a.push(e({name:r,domain:i,win:c[u]},n));return{cancel:function(){for(var e=0;e<a.length;e++)a[e].cancel()}}}if(Array.isArray(i)){for(var d=[],f=0,l=i;f<l.length;f++)d.push(e({name:r,win:o,domain:l[f]},n));return{cancel:function(){for(var e=0;e<d.length;e++)d[e].cancel()}}}var h=xe({name:r,win:o,domain:i});if(o&&"*"!==o||(o=ie()),i=i||"*",h)throw o&&i?new Error("Request listener already exists for "+r+" on domain "+i.toString()+" for "+(o===ie()?"wildcard":"specified")+" window"):o?new Error("Request listener already exists for "+r+" for "+(o===ie()?"wildcard":"specified")+" window"):i?new Error("Request listener already exists for "+r+" on domain "+i.toString()):new Error("Request listener already exists for "+r);var p,m,w=s.getOrSet(o,(function(){return{}})),v=$(w,r,(function(){return{}})),g=i.toString();return q(i)?(p=$(v,"__domain_regex__",(function(){return[]}))).push(m={regex:i,listener:n}):v[g]=n,{cancel:function(){delete v[g],m&&(p.splice(p.indexOf(m,1)),p.length||delete v.__domain_regex__),Object.keys(v).length||delete w[r],o&&!Object.keys(w).length&&s.del(o)}}}({name:e,win:r,domain:o},{handler:t.handler,handleError:t.errorHandler||function(e){throw e},window:r,domain:o||"*",name:e});return{cancel:function(){i.cancel()}}}function Fe(e,t,n){"function"==typeof(t=t||{})&&(n=t,t={});var r,o=new k;return t.errorHandler=function(e){r.cancel(),o.reject(e)},r=De(e,t,(function(e){if(r.cancel(),o.resolve(e),n)return n(e)})),o.cancel=r.cancel,o}Ie.postrobot_post_message=function(e,t,n){0===n.indexOf("file:")&&(n="*"),e.postMessage(t,n)};var He=function e(t,n,r,o){var i=(o=o||{}).domain||"*",a=o.timeout||-1,u=o.timeout||5e3,c=o.fireAndForget||!1;return k.try((function(){if(function(e,t,n){if(!e)throw new Error("Expected name");if(n&&"string"!=typeof n&&!Array.isArray(n)&&!q(n))throw new TypeError("Can not send "+e+". Expected domain "+JSON.stringify(n)+" to be a string, array, or regex");if(v(t))throw new Error("Can not send "+e+". Target window is closed")}(n,t,i),function(e,t){var n=g(t);if(n)return n===e;if(t===e)return!1;if(function(e){void 0===e&&(e=window);try{if(e.top)return e.top}catch(e){}if(s(e)===e)return e;try{if(h(window,e)&&window.top)return window.top}catch(e){}try{if(h(e,window)&&window.top)return window.top}catch(e){}for(var t=0,n=function e(t){for(var n=[],r=0,o=p(t);r<o.length;r++){var i=o[r];n.push(i);for(var s=0,a=e(i);s<a.length;s++)n.push(a[s])}return n}(e);t<n.length;t++){var r=n[t];try{if(r.top)return r.top}catch(e){}if(s(r)===r)return r}}(t)===t)return!1;for(var r=0,o=p(e);r<o.length;r++)if(o[r]===t)return!0;return!1}(window,t))return function(e,t,n){void 0===t&&(t=5e3),void 0===n&&(n="Window");var r=function(e){return se("helloPromises").getOrSet(e,(function(){return new k}))}(e);return-1!==t&&(r=r.timeout(t,new Error(n+" did not load after "+t+"ms"))),r}(t,u)})).then((function(n){return function(e,t,n,r){var o=r.send;return k.try((function(){return"string"==typeof t?t:k.try((function(){return n||ce(e,{send:o}).then((function(e){return e.domain}))})).then((function(e){if(!_(t,t))throw new Error("Domain "+K(t)+" does not match "+K(t));return e}))}))}(t,i,(void 0===n?{}:n).domain,{send:e})})).then((function(o){var i,s=o,u="postrobot_method"===n&&r&&"string"==typeof r.name?r.name+"()":n,f=new k,l=n+"_"+R();if(!c){var h={name:n,win:t,domain:s,promise:f};!function(e,t){ne("responseListeners").set(e,t)}(l,h);var p=se("requestPromises").getOrSet(t,(function(){return[]}));p.push(f),f.catch((function(){!function(e){ne("erroredResponseListeners").set(e,!0)}(l),Me(l)}));var m=function(e){return se("knownWindows").get(e,!1)}(t)?1e4:2e3,w=a,g=m,_=w,y=(function e(){i=setTimeout((function(){v(t)?f.reject(new Error("Window closed for "+n+" before "+(h.ack?"response":"ack"))):h.cancelled?f.reject(new Error("Response listener was cancelled for "+n)):(g=Math.max(g-500,0),-1!==_&&(_=Math.max(_-500,0)),h.ack||0!==g?0===_&&f.reject(new Error("No response for postMessage "+u+" in "+d()+" in "+w+"ms")):f.reject(new Error("No ack for postMessage "+u+" in "+d()+" in "+m+"ms"))),e()}),500)}(),{cancel:function(){clearTimeout(i)}});f.finally((function(){y.cancel(),p.splice(p.indexOf(f,1))})).catch(U)}return Ae(t,s,{id:R(),origin:d(window),type:"postrobot_message_request",hash:l,name:n,data:r,fireAndForget:c},{on:De,send:e}).then((function(){return c?f.resolve():f}),(function(e){throw new Error("Send request message failed for "+u+" in "+d()+"\n\n"+B(e))}))}))};function ze(e,t,n){return Pe(e,t,n,{on:De,send:He})}function Ge(e,t,n){return Ce(e,t,n,{on:De,send:He})}function Ue(e){return new be({send:He,win:e})}function Be(e){return be.toProxyWindow(e,{send:He})}function Ke(){var e,t,n,r;ee().initialized||(ee().initialized=!0,t=(e={on:De,send:He}).on,n=e.send,(r=ee()).receiveMessage=r.receiveMessage||function(e){return Ne(e,{on:t,send:n})},function(e){var t=e.on,n=e.send;ne().getOrSet("postMessageListener",(function(){return e=window,r=function(e){!function(e,t){var n=t.on,r=t.send;k.try((function(){var t=e.source||e.sourceElement,o=e.origin||e.originalEvent&&e.originalEvent.origin,i=e.data;if("null"===o&&(o="file://"),t){if(!o)throw new Error("Post message did not have origin domain");Ne({source:t,origin:o,data:i},{on:n,send:r})}}))}(e,{on:t,send:n})},e.addEventListener("message",r),{cancel:function(){e.removeEventListener("message",r)}};var e,r}))}({on:De,send:He}),function(e){var t=e.on,n=e.send;ne("builtinListeners").getOrSet("helloListener",(function(){var e=t("postrobot_hello",{domain:"*"},(function(e){return ue(e.source,{domain:e.origin}),{instanceID:ae()}})),r=g();return r&&ce(r,{send:n}).catch((function(e){})),e}))}({on:De,send:He}))}function qe(){var e;!function(){for(var e=ne("responseListeners"),t=0,n=e.keys();t<n.length;t++){var r=n[t],o=e.get(r);o&&(o.cancelled=!0),e.del(r)}}(),(e=ne().get("postMessageListener"))&&e.cancel(),delete window.__post_robot_10_0_44__}var $e=!0;function Je(e){for(var t=0,n=se("requestPromises").get(e,[]);t<n.length;t++)n[t].reject(new Error("Window "+(v(e)?"closed":"cleaned up")+" before response")).catch(U)}Ke()}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=new class{error(e,t){console.log(e,t)}info(e,t){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customEvents=void 0,t.customEvents={ENGAGEMENT_PLATFORM_CHAT_SDK_READY:"ENGAGEMENT_PLATFORM:CHAT_SDK_READY",ENGAGEMENT_PLATFORM_AUTH_REQUESTED:"ENGAGEMENT_PLATFORM:AUTH_REQUESTED",ENGAGEMENT_PLATFORM_AUTH_REQUEST_SUCCESS:"ENGAGEMENT_PLATFORM:AUTH_REQUESTED_SUCCESS",ENGAGEMENT_PLATFORM_AUTH_IMPORT_ERROR:"ENGAGEMENT_PLATFORM:AUTH_IMPORT_ERROR"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postRobotEvents=void 0,t.postRobotEvents={OPEN_CHAT_BUTTON:"openChatButton",CLOSE_CHAT_BUTTON:"closeChatButton",SET_MODE:"setMode",SET_IFRAME_FULLSCREEN:"setIFrameFullscreen",SET_IFRAME_SIZE:"setIFrameSize",SET_COOKIE:"setCookie",GET_COOKIE:"getCookie",DELETE_COOKIE:"deleteCookie",EXISTS_COOKIE:"existsCookie",COOKIES_ENABLED:"cookiesEnabled",SET_LOCAL_STORAGE_ITEM:"setLocalStorageItem",GET_LOCAL_STORAGE_ITEM:"getLocalStorageItem",REMOVE_LOCAL_STORAGE_ITEM:"removeLocalStorageItem",PREVENT_UNLOAD:"preventUnload",OPEN_LOGIN_WINDOW:"openLoginWindow",AUTH_REQUESTED:"authRequested",RELOAD_APPLICATION:"reloadApplication",GET_CURRENT_LOCATION:"getCurrentLocation",GET_WHO_AM_I_TOKEN_FROM_SERVER:"getWhoAmITokenFromServer",UPDATE_CLIENT_INFO:"updateClientInfo",POST_ROBOT_READY:"postRobotReady"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.config=e}set({name:e="",value:t="",expiration:n=null,path:r="/",secure:o=!1}){const i=o?"secure;":"",s=`${e}=${t};`,a=n?`max-age=${n};`:"",u=this.config.featureFlags.isDotPrefixDomainCookie?`domain=.${this.domain()};`:"",c=`path=${r};`;document.cookie=s+a+u+c+i}get(e){const t=new RegExp(`(^| )${e}=([^;]+)`),n=document.cookie.match(t);return n?n[2]:""}delete(e){this.exists(e)&&this.set({name:e,expiration:-1})}exists(e){return-1!==document.cookie.indexOf(e)}domain(){return this.config.sites.map((({domain:e})=>e)).find((e=>window.location.href.includes(e)))}deleteCookiesOnWrongDomain(){document.cookie.split(";").filter((e=>e.trim().startsWith("x-ep"))).forEach((e=>document.cookie=e+";domain=.namecheap.com;max-age=-1;path=/;"))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{setItem(e,t){localStorage.setItem(e,JSON.stringify(t))}getItem(e){const t=localStorage.getItem(e);return t?JSON.parse(t):null}removeItem(e){localStorage.removeItem(e)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(1)),i=r(n(24)),s=n(2),{SET_IFRAME_FULLSCREEN:a,SET_IFRAME_SIZE:u,SET_COOKIE:c,GET_COOKIE:d,DELETE_COOKIE:f,EXISTS_COOKIE:l,COOKIES_ENABLED:h,SET_LOCAL_STORAGE_ITEM:p,GET_LOCAL_STORAGE_ITEM:m,REMOVE_LOCAL_STORAGE_ITEM:w,PREVENT_UNLOAD:v,OPEN_LOGIN_WINDOW:g,AUTH_REQUESTED:_,RELOAD_APPLICATION:y,GET_CURRENT_LOCATION:E,GET_WHO_AM_I_TOKEN_FROM_SERVER:b,POST_ROBOT_READY:O}=s.postRobotEvents,{ENGAGEMENT_PLATFORM_AUTH_REQUESTED:S,ENGAGEMENT_PLATFORM_AUTH_REQUEST_SUCCESS:T,ENGAGEMENT_PLATFORM_AUTH_IMPORT_ERROR:P,ENGAGEMENT_PLATFORM_CHAT_SDK_READY:C}=s.customEvents,I=window.Promise||o.default.Promise;t.default=class{constructor(e,t,n,r,o,i){this.config=e,this.cookie=t,this.localStorage=n,this.iFrame=r,this.injectChatSDKToWindow=o,this.getChatMode=i,this.handleAuthRequestSuccessEvent=e=>e.detail.result,this.handleAuthImportEvent=e=>{const{error:t}=e.detail;throw new Error(t)},this.initPostRobotEventListeners()}chatSDKReadyEvent(){document.addEventListener(P,this.handleAuthImportEvent),document.dispatchEvent(new CustomEvent(C))}initPostRobotEventListeners(){o.default.on(a,(({data:e})=>{this.iFrame.setFullscreen(e)})),o.default.on(u,(({data:e})=>{this.iFrame.setSize(e)})),o.default.on(c,(({data:e})=>{this.cookie.set(e)})),o.default.on(d,(({data:e})=>this.cookie.get(e))),o.default.on(f,(({data:e})=>{this.cookie.delete(e)})),o.default.on(l,(({data:e})=>this.cookie.exists(e))),o.default.on(h,(()=>window.navigator.cookieEnabled)),o.default.on(p,(({data:e})=>{this.localStorage.setItem(e.key,e.value)})),o.default.on(m,(e=>this.localStorage.getItem(e.data))),o.default.on(w,(e=>{this.localStorage.removeItem(e.data)})),o.default.on(v,(({data:e})=>{window.onbeforeunload=function(t){e&&(t.preventDefault(),t.returnValue=e)}})),o.default.on(g,(({data:e})=>{new i.default(e).open()})),o.default.on(_,(()=>{document.addEventListener(T,this.handleAuthRequestSuccessEvent),document.dispatchEvent(new CustomEvent(S))})),o.default.on(y,(()=>{this.iFrame.setSource("https://chat.engagement.ai/api/v2/widget/iframe")})),o.default.on(E,(()=>window.location.href)),o.default.on(b,(()=>this.getWhoAmITokenFromServer())),o.default.on(O,(()=>(window.$EPChat||this.injectChatSDKToWindow(),{mode:this.getChatMode()})))}requestError(e){return{status:e.status,statusText:e.statusText}}getWhoAmITokenFromServer(){return new I(((e,t)=>{const n=new XMLHttpRequest;n.open("GET",this.config.whoamiEndpoint),n.setRequestHeader("Cache-Control"," no-cache"),n.timeout=1e4,n.onload=()=>{if(4===n.readyState&&200===n.status){const t=JSON.parse(n.response);e(t.token)}else t(this.requestError(n))},n.onerror=()=>{t(this.requestError(n))},n.ontimeout=()=>{t(this.requestError(n))},n.send()}))}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const{LOGIN_WINDOW_NAME:n}=e.env;let r;t.default=class{constructor(e){this.name=n,this.callback=e.callback,this.url=this.handleUrl(e.url),this.styles=this.handleStyles(e.styles)}handleUrl(e){const t={...e};return t.params&&Object.entries(t.params).forEach((([e,n])=>{t.path=t.path.replace(e,encodeURIComponent(n))})),t.host+t.path}handleStyles(e){const t={...e};return t.top=e.top||window.top.outerHeight/2+window.top.screenY-e.height/2,t.left=e.left||window.top.outerWidth/2+window.top.screenX-e.width/2,Object.entries(t).map((([e,t])=>`${e}=${t}`)).join(",")}handleCallback(){window[this.callback.fnName]=e=>{"success"===e.status&&this.close()}}close(){r.close(),window.location.reload()}open(){r&&!r.closed||(r=window.open(this.url,this.name,this.styles),this.handleCallback()),r.focus()}}}).call(this,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,n){this.config=e,this.cookie=t,this.consentCookie=n,this.pageYOffset=null,this.body=document.body,this.wrapper=document.createElement("div"),this.source="https://chat.engagement.ai/api/v2/widget/iframe",this.loading="eager",this.iframe=document.createElement("iframe"),this.iFrameWrapperId="engagementPlatform",this.iFrameId="engagementPlatformIframe",this.iFrameTitle="Support Chat",this.iFrameWindow=null,this.initialized=!1,this.stubId="engagementPlatformStub"}setStyles(e,t){for(const n in t)n in t&&(e.style[n]=t[n])}setWrapperAttributes(){this.wrapper.id=this.iFrameWrapperId,this.setStyles(this.wrapper,{position:"fixed",right:"0",bottom:"0",width:"auto",height:"auto",minWidth:"auto",maxWidth:"100%",minHeight:"auto",maxHeight:"100%",margin:"0",outline:"none",backgroundColor:"transparent",overflow:"hidden",zIndex:"3001",boxSizing:"border-box",colorScheme:"none"})}setIFrameAttributes(){const e=`${this.source}?tracking=${this.getTracking()}`,t=this.cookie.get("_ga");this.iframe.src=`${e}&_ga=${t}`,this.iframe.id=this.iFrameId,this.iframe.referrerPolicy="origin",this.iframe.title=this.iFrameTitle,"connection"in navigator&&(this.iframe.loading=this.loading),this.setStyles(this.iframe,{position:"absolute",right:"0",bottom:"0",width:"100vw",height:"100vh",minWidth:"auto",maxWidth:"none",minHeight:"auto",maxHeight:"none",margin:"0",outline:"none",backgroundColor:"transparent",border:"0",opacity:"0",transition:"opacity 0.1s linear"})}getTracking(){return this.config.featureFlags.defaultTrackingEnabled||this.consentCookie.isGroupEnabled(this.consentCookie.GroupTracking)}loadedIFrame(){const e=document.getElementById(this.iFrameId);e.onload=()=>{e.style.opacity="1",this.removeStub()}}lockBodyScroll(){this.pageYOffset=window.pageYOffset,this.setStyles(this.body,{position:"fixed",top:`-${this.pageYOffset}px`,left:"0",width:"100%",height:"100%",overflow:"hidden"})}unlockBodyScroll(){this.body.removeAttribute("style"),this.pageYOffset&&window.scrollTo(0,parseInt(String(this.pageYOffset)))}setSize(e){this.setStyles(this.wrapper,{width:`${e.width}px`,height:`${e.height}px`})}setFullscreen(e){e?this.lockBodyScroll():this.unlockBodyScroll(),this.setStyles(this.wrapper,{minWidth:e?"100%":"auto",minHeight:e?"100%":"auto"}),this.setStyles(this.iframe,{maxWidth:e?"100%":"none",maxHeight:e?"100%":"none"})}setSource(e){this.iframe.src=e}exists(){return!!document.getElementById(this.iFrameWrapperId)}init(){this.setWrapperAttributes(),this.setIFrameAttributes(),this.body.appendChild(this.wrapper),this.wrapper.appendChild(this.iframe),this.loadedIFrame(),this.initialized=!0;const e=document.getElementById(this.iFrameId);this.iFrameWindow=e.contentWindow,this.config.featureFlags.shouldDeleteCookiesOnWrongDomain&&this.cookie.deleteCookiesOnWrongDomain()}removeStub(){const e=document.getElementById(this.stubId);e&&e.remove()}removeIframe(){const e=document.getElementById(this.iFrameWrapperId);e&&(e.remove(),this.initialized=!1,this.iFrameWindow=null)}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const{LOGIN_WINDOW_NAME:n}=e.env;t.default=class{constructor(e,t){this.config=e,this.cookie=t}isPageMatching(e,t){const n=new URL(e);return t.some((e=>{const t=new URL("https://"+e),r=n.hostname===t.hostname,o=n.pathname.startsWith(t.pathname)&&"/"!==t.pathname,i="/"===n.pathname&&"/"===t.pathname;return r&&(o||i)}))}isPageAllowed(e){return!this.isPageDisallowed(e)&&this.isPageMatching(e,this.config.pagesAllowed)}isPageDisallowed(e){return window.name===n||this.isPageMatching(e,this.config.pagesDisallowed)}isPageVerificationDisabled(e){return!this.isPageDisallowed(e)&&this.cookie.exists("x-ep-page-verification-disabled")}}}).call(this,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t){this.page=e,this.iFrame=t,this.handleTabChange=()=>{this.page.isPageVerificationDisabled(window.location.href)&&!this.iFrame.initialized&&this.iFrame.init()},this.initListeners()}initListeners(){document.addEventListener("visibilitychange",this.handleTabChange),document.addEventListener("DOMContentLoaded",this.handleTabChange)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(29),o=["online","offline"],i="EP:TOOLTIP_NEED_HELP_SHOWN",s="EP:TOOLTIP_NEED_HELP_INITIAL_SHOWN",a="ep-stub-scope",u="ep-stub-scope--light",c="ep-stub-scope--dark",d="ep-stub-phone",f="ep-stub-touch",l="ep-stub-loading",h="ep-stub-offline",p="ep-stub-cookies-disabled",m="ep-stub-tooltip-visible";t.default=class{constructor(e,t){this.config=e,this.iFrame=t,this.navigator=window.navigator,this.timeoutId=null,this.initialTooltipTimeoutId=null,this.showNeedHelpTooltipOnFirstInteraction=this.config.featureFlags.showNeedHelpTooltipOnFirstInteraction,this.stubDocumentHead=document.head,this.stub=document.createElement("div"),this.stubId="engagementPlatformStub",this.stubHtml=r,this.connectionStatusHandler=this.handleConnectionStatus.bind(this)}handleStubClick(){this.stub.onclick=()=>{this.handleCookiesStatus(),this.isTouch()&&this.handleTouchTooltips(),this.isReady()&&(this.stub.classList.add(l),this.handleDestroyEvents(),this.iFrame.init())}}handleTouchTooltips(){clearTimeout(this.timeoutId),this.stub.classList.remove(m),this.navigator.onLine&&this.navigator.cookieEnabled&&sessionStorage.hasOwnProperty(i)||(this.stub.classList.add(m),this.timeoutId=setTimeout((()=>{this.stub.classList.remove(m)}),5e3)),this.navigator.cookieEnabled&&!sessionStorage.hasOwnProperty(i)&&sessionStorage.setItem(i,String(!0))}handleCookiesStatus(){this.navigator.cookieEnabled?this.stub.classList.remove(p):this.stub.classList.add(p)}handleConnectionStatus(){this.navigator.onLine?this.stub.classList.remove(h):this.stub.classList.add(h)}handleCreateEvents(){o.forEach((e=>window.addEventListener(e,this.connectionStatusHandler)))}handleDestroyEvents(){o.forEach((e=>window.removeEventListener(e,this.connectionStatusHandler)))}isReady(){return this.navigator.onLine&&this.navigator.cookieEnabled&&!this.stub.classList.contains(l)}isPhone(){return/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(this.navigator.userAgent)}isTouch(){return"ontouchstart"in window||!!this.navigator.maxTouchPoints}showInitialTooltip(){!sessionStorage.hasOwnProperty(s)&&this.showNeedHelpTooltipOnFirstInteraction&&(sessionStorage.setItem(s,String(!0)),this.stub.classList.add(m),this.initialTooltipTimeoutId=setTimeout((()=>{this.stub.classList.remove(m),clearTimeout(this.initialTooltipTimeoutId)}),5e3))}completeInitialization(e){document.body.appendChild(this.stub),this.stub.innerHTML="",this.stub.insertAdjacentHTML("beforeend",this.stubHtml),this.stub.setAttribute("id",this.stubId),this.stub.setAttribute("class",a),this.setMode(e),this.isPhone()&&this.stub.classList.add(d),this.isTouch()&&(this.stub.classList.add(f),this.handleTouchTooltips()),this.handleStubClick(),this.handleCreateEvents(),this.handleCookiesStatus(),this.showInitialTooltip()}exists(){return!!document.getElementById(this.stubId)}setMode(e){"dark"===e?(this.stub.classList.remove(u),this.stub.classList.add(c)):(this.stub.classList.remove(c),this.stub.classList.add(u))}init(e){const t=document.createElement("link"),n=document.createElement("link");t.rel="stylesheet",t.href=this.config.stubColorsUrl,n.rel="stylesheet",n.href=this.config.stubStylesUrl;const r=e=>new Promise((t=>{e.onload=()=>t(),e.onerror=()=>t()}));Promise.all([r(t),r(n)]).then((()=>{this.completeInitialization(e())})),this.stubDocumentHead.appendChild(t),this.stubDocumentHead.appendChild(n)}}},function(e,t,n){"use strict";e.exports='\n  <button\n    class="ep-floating-btn"\n    aria-label="Open Chat"\n    nc-e2e="floating-button"\n  >\n    <div class="ep-floating-btn__bot">\n    <svg\n      class="ep-floating-btn__bot-shape"\n      viewBox="0 0 64 64"\n      fill="none"\n      style="--startColor: var(--ep-bubble-gradient-start); --endColor: var(--ep-bubble-gradient-end);"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        fill-rule="evenodd"\n        clip-rule="evenodd"\n        d="M32.0006 0C14.3273 0 0 14.3081 0 31.96C0 49.611 14.3273 63.9201 32.0006 63.9201C34.0607\n         63.9201 36.0737 63.7243 38.0247 63.3518L38.0238 63.3528C38.0238 63.3528 44.8979\n          61.8706 50.571 62.9143C53.1521 63.3907 57.0951 63.999 60.3472 63.6055C61.9802 63.4077\n           62.6322 61.4951 61.5352 60.2716C59.6692 58.1892 58.8592 53.1975 62.6392 41.1935C62.7892\n            40.6961 62.9282 40.1937 63.0542 39.6854C63.6693 37.2115 64.0013 34.6247 64.0013\n             31.96C64.0013 14.3081 49.674 0 32.0006 0Z"\n        fill="url(#paint0_linear_2913_39494)"\n      />\n      <defs>\n        <linearGradient\n          id="paint0_linear_2913_39494"\n          x1="32.0006"\n          y1="0"\n          x2="32.0006"\n          y2="64.08"\n          gradientUnits="userSpaceOnUse"\n        >\n          <stop\n            stop-color="var(--startColor)"\n          />\n          <stop\n            offset="0.5"\n            stop-color="var(--endColor)"\n          />\n        </linearGradient>\n      </defs>\n    </svg>\n      <div class="ep-floating-btn__dots">\n        <span class="ep-floating-btn__dot"></span>\n        <span class="ep-floating-btn__dot"></span>\n        <span class="ep-floating-btn__dot"></span>\n      </div>\n      <svg\n        class="ep-floating-btn__smile"\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 34 12"\n      >\n        <path d="M17,12c-0.3,0-0.5,0-0.8,0C6.9,11.6,0.7,3.6,0.4,3.2c-0.7-0.9-0.5-2.1,0.4-2.8c0.9-0.7,2.1-0.5,2.8,0.4C3.7,0.9,9,7.7,16.4,8c4.8,0.2,9.5-2.3,14.1-7.3c0.7-0.8,2-0.9,2.8-0.1c0.8,0.7,0.9,2,0.1,2.8C28.3,9.1,22.7,12,17,12z" />\n      </svg>\n    </div>\n    <div class="ep-tooltip ep-tooltip--need-help">\n      <p class="ep-tooltip__title">Need help?</p>\n      <div class="ep-tooltip__content">\n        <p class="ep-tooltip__message">Chat with our support team.</p>\n      </div>\n    </div>\n    <div class="ep-tooltip ep-tooltip--offline">\n      <div class="ep-tooltip__content">\n        <p class="ep-tooltip__message">Connection lost. Please check your connection and try again.</p>\n      </div>\n    </div>\n    <div class="ep-tooltip ep-tooltip--cookies-disabled">\n      <div class="ep-tooltip__content">\n        <p class="ep-tooltip__message">Please adjust your browser privacy and security settings. Do not block all cookies.</p>\n      </div>\n    </div>\n  </button>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.cookie=e,this.optanonConsentCookie="OptanonConsent",this.GroupPerformance="C0002",this.GroupFunctional="C0003",this.GroupTracking="C0004";const t=this.cookie.get(this.optanonConsentCookie);this.urlSearchParams=new URLSearchParams(t)}getGroups(){return this.urlSearchParams.get("groups")||""}isGroupEnabled(e){return this.getGroups().includes(`${e}:1`)}}}]);